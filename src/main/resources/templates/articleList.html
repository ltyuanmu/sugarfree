<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0" />
    <meta name = "format-detection" content = "telephone=no" />
    <title>查看文章</title>
    <script type="text/javascript" th:src="@{js/jquery.min.js}"></script>
    <link  type="text/css" rel="stylesheet" th:href="@{css/CssReset.min.css}"/>
    <link  type="text/css" rel="stylesheet" th:href="@{css/common.css}"/>
    <link  type="text/css" rel="stylesheet" th:href="@{css/columnList.css}"/>
</head>
<body>
<div class="columnList">
    <div class="columns" style="overflow: hidden;">
        <th:forEach items="${columnList}" var="column">
            <div class="columnItem">
                <img alt="" th:src="" style="width: 1.5rem;height: 1.5rem;">
                 {$column.columnname }&nbsp;&nbsp;
                <th:forEach items="${myColumnList}" var="myColumn">
                    <th:choose>
                        <th:when test="${myColumn.columnid == column.id}">
                            <!-- 已订阅 -->
                            <input type="button" onclick="showArticleList(${column.id});" value="查看"/>
                        </th:when>
                        <th:otherwise>
                            <input type="button" onclick="subscribe(${column.id});" value="订阅"/>
                        </th:otherwise>
                    </th:choose>
                </th:forEach>
            </div>
        </th:forEach>
    </div>
</div>

<script type="text/javascript">
    function subscribe(columnId){
        location.href="<%=baseUrl%>column/" + columnId + "/subscribe";
    }

    function showArticleList(columnId){
        location.href="<%=baseUrl%>column/" + columnId + "/article";
    }
</script>
</body>
</html>